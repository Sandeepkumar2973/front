{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\New folder\\\\portfolio\\\\react-portfolio-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\ADMIN\\\\Downloads\\\\New folder\\\\portfolio\\\\react-portfolio-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport * as React from 'react';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement, isValidElement } from '../../_util/reactNode';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\n\nvar InternalUploadList = function InternalUploadList(props, ref) {\n  var _classNames;\n\n  var _props$listType = props.listType,\n      listType = _props$listType === void 0 ? 'text' : _props$listType,\n      _props$previewFile = props.previewFile,\n      previewFile = _props$previewFile === void 0 ? previewImage : _props$previewFile,\n      onPreview = props.onPreview,\n      onDownload = props.onDownload,\n      onRemove = props.onRemove,\n      locale = props.locale,\n      iconRender = props.iconRender,\n      _props$isImageUrl = props.isImageUrl,\n      isImgUrl = _props$isImageUrl === void 0 ? isImageUrl : _props$isImageUrl,\n      customizePrefixCls = props.prefixCls,\n      _props$items = props.items,\n      items = _props$items === void 0 ? [] : _props$items,\n      _props$showPreviewIco = props.showPreviewIcon,\n      showPreviewIcon = _props$showPreviewIco === void 0 ? true : _props$showPreviewIco,\n      _props$showRemoveIcon = props.showRemoveIcon,\n      showRemoveIcon = _props$showRemoveIcon === void 0 ? true : _props$showRemoveIcon,\n      _props$showDownloadIc = props.showDownloadIcon,\n      showDownloadIcon = _props$showDownloadIc === void 0 ? false : _props$showDownloadIc,\n      removeIcon = props.removeIcon,\n      previewIcon = props.previewIcon,\n      downloadIcon = props.downloadIcon,\n      _props$progress = props.progress,\n      progress = _props$progress === void 0 ? {\n    size: [-1, 2],\n    showInfo: false\n  } : _props$progress,\n      appendAction = props.appendAction,\n      _props$appendActionVi = props.appendActionVisible,\n      appendActionVisible = _props$appendActionVi === void 0 ? true : _props$appendActionVi,\n      itemRender = props.itemRender,\n      disabled = props.disabled;\n  var forceUpdate = useForceUpdate();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      motionAppear = _React$useState2[0],\n      setMotionAppear = _React$useState2[1]; // ============================= Effect =============================\n\n\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card' && listType !== 'picture-circle') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(function () {\n    setMotionAppear(true);\n  }, []); // ============================= Events =============================\n\n  var onInternalPreview = function onInternalPreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n\n  var onInternalDownload = function onInternalDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var onInternalClose = function onInternalClose(file) {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n\n  var internalIconRender = function internalIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ?\n    /*#__PURE__*/\n    React.createElement(PictureTwoTone, null) :\n    /*#__PURE__*/\n    React.createElement(FileTwoTone, null);\n    var icon = isLoading ?\n    /*#__PURE__*/\n    React.createElement(LoadingOutlined, null) :\n    /*#__PURE__*/\n    React.createElement(PaperClipOutlined, null);\n\n    if (listType === 'picture') {\n      icon = isLoading ?\n      /*#__PURE__*/\n      React.createElement(LoadingOutlined, null) : fileIcon;\n    } else if (listType === 'picture-card' || listType === 'picture-circle') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var actionIconRender = function actionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if (isValidElement(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-action\"),\n      disabled: disabled\n    };\n\n    if (isValidElement(customIcon)) {\n      var btnIcon = cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return (\n        /*#__PURE__*/\n        React.createElement(Button, Object.assign({}, btnProps, {\n          icon: btnIcon\n        }))\n      );\n    }\n\n    return (\n      /*#__PURE__*/\n      React.createElement(Button, Object.assign({}, btnProps),\n      /*#__PURE__*/\n      React.createElement(\"span\", null, customIcon))\n    );\n  }; // ============================== Ref ===============================\n  // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: onInternalPreview,\n      handleDownload: onInternalDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls; // ============================= Render =============================\n\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  var listClassNames = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _classNames)); // >>> Motion config\n\n  var motionKeyList = _toConsumableArray(items.map(function (file) {\n    return {\n      key: file.uid,\n      file: file\n    };\n  }));\n\n  var animationDirection = listType === 'picture-card' || listType === 'picture-circle' ? 'animate-inline' : 'animate'; // const transitionName = list.length === 0 ? '' : `${prefixCls}-${animationDirection}`;\n\n  var motionConfig = {\n    motionDeadline: 2000,\n    motionName: \"\".concat(prefixCls, \"-\").concat(animationDirection),\n    keys: motionKeyList,\n    motionAppear: motionAppear\n  };\n  var listItemMotion = React.useMemo(function () {\n    var motion = Object.assign({}, initCollapseMotion(rootPrefixCls));\n    delete motion.onAppearEnd;\n    delete motion.onEnterEnd;\n    delete motion.onLeaveEnd;\n    return motion;\n  }, [rootPrefixCls]);\n\n  if (listType !== 'picture-card' && listType !== 'picture-circle') {\n    motionConfig = Object.assign(Object.assign({}, listItemMotion), motionConfig);\n  }\n\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: listClassNames\n    },\n    /*#__PURE__*/\n    React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n      component: false\n    }), function (_ref) {\n      var key = _ref.key,\n          file = _ref.file,\n          motionClassName = _ref.className,\n          motionStyle = _ref.style;\n      return (\n        /*#__PURE__*/\n        React.createElement(ListItem, {\n          key: key,\n          locale: locale,\n          prefixCls: prefixCls,\n          className: motionClassName,\n          style: motionStyle,\n          file: file,\n          items: items,\n          progress: progress,\n          listType: listType,\n          isImgUrl: isImgUrl,\n          showPreviewIcon: showPreviewIcon,\n          showRemoveIcon: showRemoveIcon,\n          showDownloadIcon: showDownloadIcon,\n          removeIcon: removeIcon,\n          previewIcon: previewIcon,\n          downloadIcon: downloadIcon,\n          iconRender: internalIconRender,\n          actionIconRender: actionIconRender,\n          itemRender: itemRender,\n          onPreview: onInternalPreview,\n          onDownload: onInternalDownload,\n          onClose: onInternalClose\n        })\n      );\n    }), appendAction &&\n    /*#__PURE__*/\n    React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n      visible: appendActionVisible,\n      forceRender: true\n    }), function (_ref2) {\n      var motionClassName = _ref2.className,\n          motionStyle = _ref2.style;\n      return cloneElement(appendAction, function (oriProps) {\n        return {\n          className: classNames(oriProps.className, motionClassName),\n          style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n            // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n            pointerEvents: motionClassName ? 'none' : undefined\n          }), oriProps.style)\n        };\n      });\n    }))\n  );\n};\n\nvar UploadList =\n/*#__PURE__*/\nReact.forwardRef(InternalUploadList);\n\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\n\nexport default UploadList;","map":{"version":3,"sources":["C:/Users/ADMIN/Downloads/New folder/portfolio/react-portfolio-master/node_modules/antd/es/upload/UploadList/index.js"],"names":["_toConsumableArray","FileTwoTone","LoadingOutlined","PaperClipOutlined","PictureTwoTone","classNames","CSSMotion","CSSMotionList","React","Button","ConfigContext","useForceUpdate","initCollapseMotion","cloneElement","isValidElement","isImageUrl","previewImage","ListItem","InternalUploadList","props","ref","listType","previewFile","onPreview","onDownload","onRemove","locale","iconRender","isImgUrl","customizePrefixCls","prefixCls","items","showPreviewIcon","showRemoveIcon","showDownloadIcon","removeIcon","previewIcon","downloadIcon","progress","size","showInfo","appendAction","appendActionVisible","itemRender","disabled","forceUpdate","useState","motionAppear","setMotionAppear","useEffect","forEach","file","document","window","FileReader","File","originFileObj","Blob","thumbUrl","undefined","then","previewDataUrl","onInternalPreview","e","preventDefault","onInternalDownload","url","open","onInternalClose","internalIconRender","isLoading","status","fileIcon","createElement","icon","uploading","actionIconRender","customIcon","callback","title","btnProps","type","onClick","className","btnIcon","Object","assign","useImperativeHandle","handlePreview","handleDownload","useContext","getPrefixCls","rootPrefixCls","listClassNames","motionKeyList","map","key","uid","animationDirection","motionConfig","motionDeadline","motionName","keys","listItemMotion","useMemo","motion","onAppearEnd","onEnterEnd","onLeaveEnd","component","_ref","motionClassName","motionStyle","style","onClose","visible","forceRender","_ref2","oriProps","pointerEvents","UploadList","forwardRef","process","env","NODE_ENV","displayName"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport * as React from 'react';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement, isValidElement } from '../../_util/reactNode';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\nconst InternalUploadList = (props, ref) => {\n  const {\n    listType = 'text',\n    previewFile = previewImage,\n    onPreview,\n    onDownload,\n    onRemove,\n    locale,\n    iconRender,\n    isImageUrl: isImgUrl = isImageUrl,\n    prefixCls: customizePrefixCls,\n    items = [],\n    showPreviewIcon = true,\n    showRemoveIcon = true,\n    showDownloadIcon = false,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    progress = {\n      size: [-1, 2],\n      showInfo: false\n    },\n    appendAction,\n    appendActionVisible = true,\n    itemRender,\n    disabled\n  } = props;\n  const forceUpdate = useForceUpdate();\n  const [motionAppear, setMotionAppear] = React.useState(false);\n  // ============================= Effect =============================\n  React.useEffect(() => {\n    if (listType !== 'picture' && listType !== 'picture-card' && listType !== 'picture-circle') {\n      return;\n    }\n    (items || []).forEach(file => {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n      file.thumbUrl = '';\n      if (previewFile) {\n        previewFile(file.originFileObj).then(previewDataUrl => {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(() => {\n    setMotionAppear(true);\n  }, []);\n  // ============================= Events =============================\n  const onInternalPreview = (file, e) => {\n    if (!onPreview) {\n      return;\n    }\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n  const onInternalDownload = file => {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n  const onInternalClose = file => {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n  const internalIconRender = file => {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n    const isLoading = file.status === 'uploading';\n    const fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n    let icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : fileIcon;\n    } else if (listType === 'picture-card' || listType === 'picture-circle') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n    return icon;\n  };\n  const actionIconRender = (customIcon, callback, prefixCls, title) => {\n    const btnProps = {\n      type: 'text',\n      size: 'small',\n      title,\n      onClick: e => {\n        callback();\n        if (isValidElement(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: `${prefixCls}-list-item-action`,\n      disabled\n    };\n    if (isValidElement(customIcon)) {\n      const btnIcon = cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: () => {}\n      }));\n      return /*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n    return /*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps), /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  };\n  // ============================== Ref ===============================\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    handlePreview: onInternalPreview,\n    handleDownload: onInternalDownload\n  }));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  // ============================= Render =============================\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rootPrefixCls = getPrefixCls();\n  const listClassNames = classNames({\n    [`${prefixCls}-list`]: true,\n    [`${prefixCls}-list-${listType}`]: true\n  });\n  // >>> Motion config\n  const motionKeyList = _toConsumableArray(items.map(file => ({\n    key: file.uid,\n    file\n  })));\n  const animationDirection = listType === 'picture-card' || listType === 'picture-circle' ? 'animate-inline' : 'animate';\n  // const transitionName = list.length === 0 ? '' : `${prefixCls}-${animationDirection}`;\n  let motionConfig = {\n    motionDeadline: 2000,\n    motionName: `${prefixCls}-${animationDirection}`,\n    keys: motionKeyList,\n    motionAppear\n  };\n  const listItemMotion = React.useMemo(() => {\n    const motion = Object.assign({}, initCollapseMotion(rootPrefixCls));\n    delete motion.onAppearEnd;\n    delete motion.onEnterEnd;\n    delete motion.onLeaveEnd;\n    return motion;\n  }, [rootPrefixCls]);\n  if (listType !== 'picture-card' && listType !== 'picture-circle') {\n    motionConfig = Object.assign(Object.assign({}, listItemMotion), motionConfig);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n    component: false\n  }), _ref => {\n    let {\n      key,\n      file,\n      className: motionClassName,\n      style: motionStyle\n    } = _ref;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: key,\n      locale: locale,\n      prefixCls: prefixCls,\n      className: motionClassName,\n      style: motionStyle,\n      file: file,\n      items: items,\n      progress: progress,\n      listType: listType,\n      isImgUrl: isImgUrl,\n      showPreviewIcon: showPreviewIcon,\n      showRemoveIcon: showRemoveIcon,\n      showDownloadIcon: showDownloadIcon,\n      removeIcon: removeIcon,\n      previewIcon: previewIcon,\n      downloadIcon: downloadIcon,\n      iconRender: internalIconRender,\n      actionIconRender: actionIconRender,\n      itemRender: itemRender,\n      onPreview: onInternalPreview,\n      onDownload: onInternalDownload,\n      onClose: onInternalClose\n    });\n  }), appendAction && /*#__PURE__*/React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), _ref2 => {\n    let {\n      className: motionClassName,\n      style: motionStyle\n    } = _ref2;\n    return cloneElement(appendAction, oriProps => ({\n      className: classNames(oriProps.className, motionClassName),\n      style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n        // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n        pointerEvents: motionClassName ? 'none' : undefined\n      }), oriProps.style)\n    }));\n  }));\n};\nconst UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\nexport default UploadList;"]},"metadata":{},"sourceType":"module"}